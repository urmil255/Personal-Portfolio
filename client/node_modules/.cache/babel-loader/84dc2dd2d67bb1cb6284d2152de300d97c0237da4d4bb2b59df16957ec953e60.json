{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/admin/OneDrive/Desktop/portfolio/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _createClass from\"C:/Users/admin/OneDrive/Desktop/portfolio/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"C:/Users/admin/OneDrive/Desktop/portfolio/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import{TOTAL_SCREENS}from\"./commonUtils\";import{Subject}from'rxjs';// import {objects} from \"prop-types\";\nvar ScrollService=/*#__PURE__*/_createClass(function ScrollService(){var _this=this;_classCallCheck(this,ScrollService);this.scrollToHireMe=function(){var contactMeScreen=document.getElementById(\"ContactMe\");if(!contactMeScreen)return;contactMeScreen.scrollIntoView({behavior:\"smooth\"});};this.isElementInview=function(elem,type){var rec=elem.getBoundingClientRect();var elementTop=rec.top;var elementBottom=rec.Bottom;var partiallyVisible=elementTop<window.innerHeight&&elementBottom>=0;var completelyVisible=elementTop>=0&&elementBottom<=window.innerHeight;switch(type){case\"partial\":return partiallyVisible;case\"complete\":return completelyVisible;default:return false;}};this.checkCurrentScreenUnderViewport=function(event){if(!event||Object.keys(event).length<1)return;var _iterator=_createForOfIteratorHelper(TOTAL_SCREENS),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var screen=_step.value;var screenFromDOM=document.getElementById(screen.screen_name);if(!screenFromDOM)continue;var fullyVisible=_this.isElementInview(screenFromDOM,\"complete\");var partiallyVisible=_this.isElementInview(screenFromDOM,\"partail\");if(fullyVisible||partiallyVisible){if(partiallyVisible&&!screen.alreadyRendered){ScrollService.currentScreenFadeIn.next({fadeInScreen:screen.screen_name});screen['alreadyRendered']=true;break;}if(fullyVisible){ScrollService.currentScreenBroadcaster.next({screenInView:screen.screen_name});break;}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}};window.addEventListener('scroll',this.checkCurrentScreenUnderViewport);});ScrollService.scrollHandler=new ScrollService();ScrollService.currentScreenBroadcaster=new Subject();ScrollService.currentScreenFadeIn=new Subject();export{ScrollService as default};","map":{"version":3,"names":["TOTAL_SCREENS","Subject","ScrollService","scrollToHireMe","contactMeScreen","document","getElementById","scrollIntoView","behavior","isElementInview","elem","type","rec","getBoundingClientRect","elementTop","top","elementBottom","Bottom","partiallyVisible","window","innerHeight","completelyVisible","checkCurrentScreenUnderViewport","event","Object","keys","length","screen","screenFromDOM","screen_name","fullyVisible","alreadyRendered","currentScreenFadeIn","next","fadeInScreen","currentScreenBroadcaster","screenInView","addEventListener","scrollHandler"],"sources":["C:/Users/admin/OneDrive/Desktop/portfolio/client/src/utilities/ScrollService.js"],"sourcesContent":["import { TOTAL_SCREENS } from \"./commonUtils\";\r\nimport {Subject} from 'rxjs';\r\n// import {objects} from \"prop-types\";\r\n\r\nexport default class ScrollService{\r\n    static scrollHandler= new ScrollService();\r\n\r\n    static currentScreenBroadcaster= new Subject();\r\n    static currentScreenFadeIn=new Subject();\r\n\r\n    constructor()\r\n    {\r\n        window.addEventListener('scroll',this.checkCurrentScreenUnderViewport);\r\n    }\r\n    scrollToHireMe=()=>\r\n    {\r\n        let contactMeScreen = document.getElementById(\"ContactMe\")\r\n        if(!contactMeScreen) return;\r\n        contactMeScreen.scrollIntoView({behavior:\"smooth\"})\r\n\r\n    };\r\n    isElementInview=(elem,type)=>{\r\n        let rec=elem.getBoundingClientRect();\r\n        let elementTop=rec.top;\r\n        let elementBottom=rec.Bottom;\r\n\r\n        let partiallyVisible=elementTop<window.innerHeight && elementBottom>=0;\r\n        let completelyVisible=elementTop>=0 && elementBottom<=window.innerHeight;\r\n\r\n        switch(type)\r\n        {\r\n            case \"partial\":\r\n                return partiallyVisible;\r\n\r\n                case \"complete\":\r\n                    return completelyVisible;\r\n                    default:\r\n                        return false\r\n        }\r\n\r\n    }\r\n\r\n    checkCurrentScreenUnderViewport=(event)=>{\r\n        if(!event || Object.keys(event).length<1)\r\n        return;\r\n        for(let screen of TOTAL_SCREENS)\r\n        {\r\n            let screenFromDOM = document.getElementById(screen.screen_name);\r\n            if(!screenFromDOM)\r\n            continue;\r\n\r\n            let fullyVisible =this.isElementInview(screenFromDOM,\"complete\");\r\n            let partiallyVisible=this.isElementInview(screenFromDOM,\"partail\")\r\n\r\n            if(fullyVisible || partiallyVisible)\r\n            {\r\n                if(partiallyVisible && !screen.alreadyRendered)\r\n                {\r\n                    ScrollService.currentScreenFadeIn.next({\r\n                        fadeInScreen:screen.screen_name\r\n                    });\r\n                    screen['alreadyRendered']=true;\r\n                    break;\r\n                }\r\n                if(fullyVisible)\r\n                {\r\n                    ScrollService.currentScreenBroadcaster.next({\r\n                        screenInView: screen.screen_name\r\n                    })\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}"],"mappings":"waAAA,OAASA,aAAa,KAAQ,eAAe,CAC7C,OAAQC,OAAO,KAAO,MAAM,CAC5B;AAAA,GAEqBC,cAAa,2BAM9B,wBACA,yDAGAC,cAAc,CAAC,UACf,CACI,GAAIC,gBAAe,CAAGC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAC1D,GAAG,CAACF,eAAe,CAAE,OACrBA,eAAe,CAACG,cAAc,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAEvD,CAAC,MACDC,eAAe,CAAC,SAACC,IAAI,CAACC,IAAI,CAAG,CACzB,GAAIC,IAAG,CAACF,IAAI,CAACG,qBAAqB,EAAE,CACpC,GAAIC,WAAU,CAACF,GAAG,CAACG,GAAG,CACtB,GAAIC,cAAa,CAACJ,GAAG,CAACK,MAAM,CAE5B,GAAIC,iBAAgB,CAACJ,UAAU,CAACK,MAAM,CAACC,WAAW,EAAIJ,aAAa,EAAE,CAAC,CACtE,GAAIK,kBAAiB,CAACP,UAAU,EAAE,CAAC,EAAIE,aAAa,EAAEG,MAAM,CAACC,WAAW,CAExE,OAAOT,IAAI,EAEP,IAAK,SAAS,CACV,MAAOO,iBAAgB,CAEvB,IAAK,UAAU,CACX,MAAOG,kBAAiB,CACxB,QACI,MAAO,MAAK,EAGhC,CAAC,MAEDC,+BAA+B,CAAC,SAACC,KAAK,CAAG,CACrC,GAAG,CAACA,KAAK,EAAIC,MAAM,CAACC,IAAI,CAACF,KAAK,CAAC,CAACG,MAAM,CAAC,CAAC,CACxC,OAAO,yCACW1B,aAAa,YAA/B,+CACA,IADQ2B,OAAM,aAEV,GAAIC,cAAa,CAAGvB,QAAQ,CAACC,cAAc,CAACqB,MAAM,CAACE,WAAW,CAAC,CAC/D,GAAG,CAACD,aAAa,CACjB,SAEA,GAAIE,aAAY,CAAE,KAAI,CAACrB,eAAe,CAACmB,aAAa,CAAC,UAAU,CAAC,CAChE,GAAIV,iBAAgB,CAAC,KAAI,CAACT,eAAe,CAACmB,aAAa,CAAC,SAAS,CAAC,CAElE,GAAGE,YAAY,EAAIZ,gBAAgB,CACnC,CACI,GAAGA,gBAAgB,EAAI,CAACS,MAAM,CAACI,eAAe,CAC9C,CACI7B,aAAa,CAAC8B,mBAAmB,CAACC,IAAI,CAAC,CACnCC,YAAY,CAACP,MAAM,CAACE,WACxB,CAAC,CAAC,CACFF,MAAM,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAC9B,MACJ,CACA,GAAGG,YAAY,CACf,CACI5B,aAAa,CAACiC,wBAAwB,CAACF,IAAI,CAAC,CACxCG,YAAY,CAAET,MAAM,CAACE,WACzB,CAAC,CAAC,CACF,MACJ,CACJ,CACJ,CAAC,qDACL,CAAC,CA7DGV,MAAM,CAACkB,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAACf,+BAA+B,CAAC,CAC1E,CAAC,EATgBpB,aAAa,CACvBoC,aAAa,CAAE,GAAIpC,cAAa,EAAE,CADxBA,aAAa,CAGvBiC,wBAAwB,CAAE,GAAIlC,QAAO,EAAE,CAH7BC,aAAa,CAIvB8B,mBAAmB,CAAC,GAAI/B,QAAO,EAAE,QAJvBC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}