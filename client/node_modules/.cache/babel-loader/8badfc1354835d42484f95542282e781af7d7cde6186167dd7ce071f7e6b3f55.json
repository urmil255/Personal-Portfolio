{"ast":null,"code":"import { TOTAL_SCREENS } from \"./commonUtils\";\nimport { Subject } from 'rxjs';\nimport { objects } from \"prop-types\";\nexport default class ScrollService {\n  constructor() {\n    this.scrollToHireMe = () => {\n      let contactMeScreen = document.getElementById(\"Contact Me\");\n      if (!contactMeScreen) return;\n      contactMeScreen.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    };\n    this.isElementInview = (elem, type) => {\n      let rec = elem.getBoundingclientRect();\n      let elementTop = rec.top;\n      let elementBottom = rec.Bottom;\n      let partiallyVisible = elementTop < window.innerHeight && elementBottom >= 0;\n      let completelyVisible = elementTop >= 0 && elementBottom <= window.innerHeight;\n      switch (type) {\n        case \"partial\":\n          return partiallyVisible;\n        case \"complete\":\n          return completelyVisible;\n        default:\n          return false;\n      }\n    };\n    this.checkCurrentScreenUnderViewport = event => {\n      if (!event || Object.keys(event).length < 1) return;\n      for (let screen of TOTAL_SCREENS) {\n        let screenFromDOM = document.getElementById(screen.screen_name);\n        if (!screenFromDOM) continue;\n        let fullyVisible = this.isElementInview(screenFromDOM, \"complete\");\n        let partiallyVisible = this.isElementInview(screenFromDOM, \"partail\");\n        if (fullyVisible || partiallyVisible) {\n          if (partiallyVisible && !screen.alreadyRendered) {\n            ScrollService.currentScreenFadeIn.next({\n              fadeInScreen: screen.screen_name\n            });\n            screen['alreadyRendered'] = true;\n            break;\n          }\n          if (fullyVisible) {\n            ScrollService.currentScreenBroadcaster.next({\n              screenInView: screen.screen_name\n            });\n            break;\n          }\n        }\n      }\n    };\n    window.addEventListener('scroll', this.checkCurrentScreenUnderViewport);\n  }\n}\nScrollService.scrollHandler = new ScrollService();\nScrollService.currentScreenBroadcaster = new Subject();\nScrollService.currentScreenFadeIn = new Subject();","map":{"version":3,"names":["TOTAL_SCREENS","Subject","objects","ScrollService","constructor","scrollToHireMe","contactMeScreen","document","getElementById","scrollIntoView","behavior","isElementInview","elem","type","rec","getBoundingclientRect","elementTop","top","elementBottom","Bottom","partiallyVisible","window","innerHeight","completelyVisible","checkCurrentScreenUnderViewport","event","Object","keys","length","screen","screenFromDOM","screen_name","fullyVisible","alreadyRendered","currentScreenFadeIn","next","fadeInScreen","currentScreenBroadcaster","screenInView","addEventListener","scrollHandler"],"sources":["C:/Users/admin/OneDrive/Desktop/portfolio/client/src/utilities/ScrollService.js"],"sourcesContent":["import { TOTAL_SCREENS } from \"./commonUtils\";\r\nimport {Subject} from 'rxjs';\r\nimport {objects} from \"prop-types\";\r\n\r\nexport default class ScrollService{\r\n    static scrollHandler= new ScrollService();\r\n\r\n    static currentScreenBroadcaster= new Subject();\r\n    static currentScreenFadeIn=new Subject();\r\n\r\n    constructor()\r\n    {\r\n        window.addEventListener('scroll',this.checkCurrentScreenUnderViewport);\r\n    }\r\n    scrollToHireMe=()=>\r\n    {\r\n        let contactMeScreen = document.getElementById(\"Contact Me\")\r\n        if(!contactMeScreen) return;\r\n        contactMeScreen.scrollIntoView({behavior:\"smooth\"})\r\n\r\n    }\r\n    isElementInview=(elem,type)=>{\r\n        let rec=elem.getBoundingclientRect();\r\n        let elementTop=rec.top;\r\n        let elementBottom=rec.Bottom;\r\n\r\n        let partiallyVisible=elementTop<window.innerHeight && elementBottom>=0;\r\n        let completelyVisible=elementTop>=0 && elementBottom<=window.innerHeight;\r\n\r\n        switch(type)\r\n        {\r\n            case \"partial\":\r\n                return partiallyVisible;\r\n\r\n                case \"complete\":\r\n                    return completelyVisible;\r\n                    default:\r\n                        return false\r\n        }\r\n\r\n    }\r\n\r\n    checkCurrentScreenUnderViewport=(event)=>{\r\n        if(!event || Object.keys(event).length<1)\r\n        return;\r\n        for(let screen of TOTAL_SCREENS)\r\n        {\r\n            let screenFromDOM = document.getElementById(screen.screen_name);\r\n            if(!screenFromDOM)\r\n            continue;\r\n\r\n            let fullyVisible =this.isElementInview(screenFromDOM,\"complete\");\r\n            let partiallyVisible=this.isElementInview(screenFromDOM,\"partail\")\r\n\r\n            if(fullyVisible || partiallyVisible)\r\n            {\r\n                if(partiallyVisible && !screen.alreadyRendered)\r\n                {\r\n                    ScrollService.currentScreenFadeIn.next({\r\n                        fadeInScreen:screen.screen_name\r\n                    });\r\n                    screen['alreadyRendered']=true;\r\n                    break;\r\n                }\r\n                if(fullyVisible)\r\n                {\r\n                    ScrollService.currentScreenBroadcaster.next({\r\n                        screenInView: screen.screen_name\r\n                    })\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}"],"mappings":"AAAA,SAASA,aAAa,QAAQ,eAAe;AAC7C,SAAQC,OAAO,QAAO,MAAM;AAC5B,SAAQC,OAAO,QAAO,YAAY;AAElC,eAAe,MAAMC,aAAa;EAM9BC,WAAW,GACX;IAAA,KAGAC,cAAc,GAAC,MACf;MACI,IAAIC,eAAe,GAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;MAC3D,IAAG,CAACF,eAAe,EAAE;MACrBA,eAAe,CAACG,cAAc,CAAC;QAACC,QAAQ,EAAC;MAAQ,CAAC,CAAC;IAEvD,CAAC;IAAA,KACDC,eAAe,GAAC,CAACC,IAAI,EAACC,IAAI,KAAG;MACzB,IAAIC,GAAG,GAACF,IAAI,CAACG,qBAAqB,EAAE;MACpC,IAAIC,UAAU,GAACF,GAAG,CAACG,GAAG;MACtB,IAAIC,aAAa,GAACJ,GAAG,CAACK,MAAM;MAE5B,IAAIC,gBAAgB,GAACJ,UAAU,GAACK,MAAM,CAACC,WAAW,IAAIJ,aAAa,IAAE,CAAC;MACtE,IAAIK,iBAAiB,GAACP,UAAU,IAAE,CAAC,IAAIE,aAAa,IAAEG,MAAM,CAACC,WAAW;MAExE,QAAOT,IAAI;QAEP,KAAK,SAAS;UACV,OAAOO,gBAAgB;QAEvB,KAAK,UAAU;UACX,OAAOG,iBAAiB;QACxB;UACI,OAAO,KAAK;MAAA;IAGhC,CAAC;IAAA,KAEDC,+BAA+B,GAAEC,KAAK,IAAG;MACrC,IAAG,CAACA,KAAK,IAAIC,MAAM,CAACC,IAAI,CAACF,KAAK,CAAC,CAACG,MAAM,GAAC,CAAC,EACxC;MACA,KAAI,IAAIC,MAAM,IAAI7B,aAAa,EAC/B;QACI,IAAI8B,aAAa,GAAGvB,QAAQ,CAACC,cAAc,CAACqB,MAAM,CAACE,WAAW,CAAC;QAC/D,IAAG,CAACD,aAAa,EACjB;QAEA,IAAIE,YAAY,GAAE,IAAI,CAACrB,eAAe,CAACmB,aAAa,EAAC,UAAU,CAAC;QAChE,IAAIV,gBAAgB,GAAC,IAAI,CAACT,eAAe,CAACmB,aAAa,EAAC,SAAS,CAAC;QAElE,IAAGE,YAAY,IAAIZ,gBAAgB,EACnC;UACI,IAAGA,gBAAgB,IAAI,CAACS,MAAM,CAACI,eAAe,EAC9C;YACI9B,aAAa,CAAC+B,mBAAmB,CAACC,IAAI,CAAC;cACnCC,YAAY,EAACP,MAAM,CAACE;YACxB,CAAC,CAAC;YACFF,MAAM,CAAC,iBAAiB,CAAC,GAAC,IAAI;YAC9B;UACJ;UACA,IAAGG,YAAY,EACf;YACI7B,aAAa,CAACkC,wBAAwB,CAACF,IAAI,CAAC;cACxCG,YAAY,EAAET,MAAM,CAACE;YACzB,CAAC,CAAC;YACF;UACJ;QACJ;MACJ;IACJ,CAAC;IA7DGV,MAAM,CAACkB,gBAAgB,CAAC,QAAQ,EAAC,IAAI,CAACf,+BAA+B,CAAC;EAC1E;AA6DJ;AAtEqBrB,aAAa,CACvBqC,aAAa,GAAE,IAAIrC,aAAa,EAAE;AADxBA,aAAa,CAGvBkC,wBAAwB,GAAE,IAAIpC,OAAO,EAAE;AAH7BE,aAAa,CAIvB+B,mBAAmB,GAAC,IAAIjC,OAAO,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}